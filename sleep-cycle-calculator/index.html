<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tính giờ thức giấc theo chu kỳ ngủ</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    h1 { color: #2d90f5; }
    button { padding: 8px 20px; font-size: 1em; }
    ul { line-height: 2; margin-top: 20px; }
    .now { color: #ee2222; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Tính giờ thức giấc khoa học</h1>
  <p>
    Theo các nhà nghiên cứu, mỗi chu kỳ ngủ kéo dài <b>90 phút</b>. Nên ngủ đủ <b>5 chu kỳ</b> (khoảng 7.5 tiếng) và cộng thêm 14 phút để dễ đi vào giấc ngủ.
    <br>
    <i>Công thức: <b>Thức giấc = giờ bắt đầu ngủ + 90*n + 14 phút</b></i>
  </p>
  <div>
    <span>Bây giờ là: </span>
    <span id="currentTime" class="now"></span>
    <button onclick="calcWakeTimes()">Tính giờ thức giấc</button>
  </div>
  <ul id="wakeupList"></ul>
  <script>
    function formatTime(date) {
      return date.toTimeString().slice(0,5);
    }
    function updateNow() {
      const now = new Date();
      document.getElementById('currentTime').textContent = formatTime(now);
    }
    function calcWakeTimes() {
      const now = new Date();
      let list = '';
      for (let i = 1; i <= 5; i++) {
        // Công thức: giờ bắt đầu ngủ + 90*n + 14
        const wake = new Date(now.getTime() + 14*60000 + 90*i*60000);
        list += `<li>Sau ${i} chu kỳ (${i*1.5} tiếng): <b>${formatTime(wake)}</b></li>`;
      }
      document.getElementById('wakeupList').innerHTML = list;
    }
    // Hiển thị giờ hiện tại liên tục
    setInterval(updateNow, 1000);
    updateNow();
  </script>
</body>
</html>